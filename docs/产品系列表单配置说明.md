# 产品系列表单配置说明

## 目标
在产品详情页的询盘表单弹窗中,添加Product Series选择功能,包含所有产品系列以及一个"Customize"定制化选项。

## 配置步骤

### 1. 进入CMS后台

访问 CMS 后台,找到 **Form Configurations** (表单配置)

### 2. 编辑表单配置

找到产品询盘表单的配置(通常是用于产品详情页的表单)

### 3. 添加/编辑 Product Series 字段

在表单字段配置中,为每种语言添加或编辑 "Product Series" 字段:

#### 字段基本信息
- **Field Name**: `InquiryProduct` (必须在所有语言中保持一致)
- **Field Type**: `checkbox` (复选框)
- **Required**: 根据需求选择是否必填

#### 英文配置 (en)
```json
{
  "fieldName": "InquiryProduct",
  "fieldType": "checkbox",
  "label": "Product Series",
  "placeholder": "",
  "required": false,
  "order": 3,
  "options": [
    { "value": "Glass Standoff", "label": "Glass Standoff" },
    { "value": "Glass Connected Fitting", "label": "Glass Connected Fitting" },
    { "value": "Glass Fence Spigot", "label": "Glass Fence Spigot" },
    { "value": "Guardrail Glass Clip", "label": "Guardrail Glass Clip" },
    { "value": "Bathroom Glass Clip", "label": "Bathroom Glass Clip" },
    { "value": "Glass Hinge", "label": "Glass Hinge" },
    { "value": "Sliding Door Kit", "label": "Sliding Door Kit" },
    { "value": "Bathroom Handle", "label": "Bathroom Handle" },
    { "value": "Door Handle", "label": "Door Handle" },
    { "value": "Hidden Hook", "label": "Hidden Hook" },
    { "value": "Customize", "label": "Customize" }
  ]
}
```

#### 中文配置 (zh)
```json
{
  "fieldName": "InquiryProduct",
  "fieldType": "checkbox",
  "label": "产品系列",
  "placeholder": "",
  "required": false,
  "order": 3,
  "options": [
    { "value": "Glass Standoff", "label": "玻璃广告螺丝" },
    { "value": "Glass Connected Fitting", "label": "玻璃栏杆扶手连接件" },
    { "value": "Glass Fence Spigot", "label": "玻璃栏杆立柱" },
    { "value": "Guardrail Glass Clip", "label": "护栏玻璃夹" },
    { "value": "Bathroom Glass Clip", "label": "浴室玻璃夹" },
    { "value": "Glass Hinge", "label": "玻璃门铰链" },
    { "value": "Sliding Door Kit", "label": "滑动门套件" },
    { "value": "Bathroom Handle", "label": "浴室拉手" },
    { "value": "Door Handle", "label": "门拉手" },
    { "value": "Hidden Hook", "label": "隐形挂钩" },
    { "value": "Customize", "label": "定制" }
  ]
}
```

### 4. Customize 自定义输入字段

**注意**: 不需要单独配置 `InquiryProduct_custom` 字段!

前端代码会自动在用户勾选 "Customize" 选项时显示一个文本输入框。这个输入框是动态生成的,占位符文本目前是硬编码的英文,后续可以优化为多语言支持。

## 前端显示逻辑

前端代码(`FullInquiryModal.tsx`)已经实现了以下逻辑:

1. **初始状态**: 显示所有产品系列选项的复选框
2. **选中 "Customize"**: 当用户勾选 "Customize" 选项时,会在该选项下方显示一个文本输入框
3. **取消勾选**: 当用户取消勾选 "Customize" 时,文本输入框会隐藏

### 实现细节

```typescript
// 当用户勾选/取消勾选 Customize 选项时
if (value.toLowerCase().includes('customize') || value.toLowerCase().includes('custom')) {
  setShowCustomizeFields((prev) => ({ ...prev, [fieldName]: checked }))
}

// 渲染自定义输入框
{isCustomize && showCustomizeFields[field.fieldName] && (
  <div className="mt-2 ml-8">
    <input
      type="text"
      placeholder="Please specify your custom requirements..."
      value={formData[`${field.fieldName}_custom`] || ''}
      onChange={(e) => handleChange(`${field.fieldName}_custom`, e.target.value)}
      className="..."
    />
  </div>
)}
```

## 注意事项

1. **Value 一致性**: 所有语言中的 `value` 必须保持一致,只有 `label` 可以翻译
2. **字段名一致性**: `fieldName` 和 `fieldType` 在所有语言中必须完全一致
3. **Order 顺序**: 建议 `InquiryProduct_custom` 的 order 比 `InquiryProduct` 大1,确保它显示在后面
4. **不需要显示**: `InquiryProduct_custom` 字段在表单中不会直接显示,只有当用户勾选 "Customize" 时才会在弹窗中显示

## 其他语言配置

对于其他语言(如西班牙语、葡萄牙语等),请参考英文和中文的配置格式,只需翻译 `label` 即可,`value` 保持不变。

## 测试步骤

1. 在CMS后台保存配置后,将表单状态设置为 "Published"
2. 访问产品详情页
3. 填写简化表单并点击 "Submit Inquiry"
4. 在弹出的完整表单中,应该能看到 Product Series 复选框列表
5. 勾选 "Customize" 选项,应该会显示自定义输入框
6. 取消勾选 "Customize" 选项,自定义输入框应该隐藏