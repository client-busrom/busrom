// This file is automatically generated by Keystone, do not modify it manually.
// Modify your Keystone config when you want to change this.

datasource postgresql {
  url               = env("DATABASE_URL")
  shadowDatabaseUrl = env("SHADOW_DATABASE_URL")
  provider          = "postgresql"
}

generator client {
  provider = "prisma-client-js"
  output   = "node_modules/.prisma/client"
}

model User {
  id                    String        @id @default(uuid()) @postgresql.Uuid
  name                  String        @default("")
  email                 String        @unique @default("")
  password              String
  avatar                Media?        @relation("User_avatar", fields: [avatarId], references: [id])
  avatarId              String?       @map("avatar") @postgresql.Uuid
  roles                 Role[]        @relation("Role_users")
  directPermissions     Permission[]  @relation("Permission_users")
  isAdmin               Boolean       @default(false)
  status                String?       @default("ACTIVE")
  twoFactorEnabled      Boolean       @default(false)
  twoFactorSecret       String        @default("")
  backupCodes           Json?         @default("[]")
  lastLoginAt           DateTime?
  lastLoginIp           String        @default("")
  loginAttempts         Json?         @default("[]")
  createdAt             DateTime?     @default(now())
  updatedAt             DateTime?     @updatedAt
  from_Role_createdBy   Role[]        @relation("Role_createdBy")
  from_ActivityLog_user ActivityLog[] @relation("ActivityLog_user")
  from_Page_author      Page[]        @relation("Page_author")
  from_Media_uploadedBy Media[]       @relation("Media_uploadedBy")

  @@index([avatarId])
}

model Role {
  id           String       @id @default(uuid()) @postgresql.Uuid
  name         String       @unique @default("")
  code         String       @unique @default("")
  description  String       @default("")
  permissions  Permission[] @relation("Permission_roles")
  parentRole   Role?        @relation("Role_parentRole", fields: [parentRoleId], references: [id])
  parentRoleId String?      @map("parentRole") @postgresql.Uuid
  childRoles   Role[]       @relation("Role_parentRole")
  users        User[]       @relation("Role_users")
  isSystem     Boolean      @default(false)
  isActive     Boolean      @default(true)
  priority     Int?         @default(5)
  createdBy    User?        @relation("Role_createdBy", fields: [createdById], references: [id])
  createdById  String?      @map("createdBy") @postgresql.Uuid
  createdAt    DateTime?    @default(now())
  updatedAt    DateTime?    @updatedAt

  @@index([parentRoleId])
  @@index([createdById])
}

model Permission {
  id          String                 @id @default(uuid()) @postgresql.Uuid
  resource    PermissionResourceType
  action      PermissionActionType
  identifier  String                 @unique @default("")
  name        String                 @default("")
  description String                 @default("")
  category    String?                @default("content")
  isSystem    Boolean                @default(true)
  roles       Role[]                 @relation("Permission_roles")
  users       User[]                 @relation("Permission_users")
  createdAt   DateTime?              @default(now())
  updatedAt   DateTime?              @updatedAt
}

model ActivityLog {
  id        String    @id @default(uuid()) @postgresql.Uuid
  user      User?     @relation("ActivityLog_user", fields: [userId], references: [id])
  userId    String?   @map("user") @postgresql.Uuid
  action    String
  entity    String    @default("")
  entityId  String    @default("")
  changes   String    @default("")
  ipAddress String    @default("")
  userAgent String    @default("")
  timestamp DateTime? @default(now())

  @@index([userId])
}

model SiteConfig {
  id                     Int       @id
  identifier             String    @default("site-config")
  siteName               Json?     @default("{\"en\":\"Busrom\",\"zh\":\"Busrom\"}")
  companyName            Json?     @default("{\"en\":\"Busrom Hardware Co., Ltd.\",\"zh\":\"Busrom 五金有限公司\"}")
  logo                   Media?    @relation("SiteConfig_logo", fields: [logoId], references: [id])
  logoId                 String?   @map("logo") @postgresql.Uuid
  favicon                Media?    @relation("SiteConfig_favicon", fields: [faviconId], references: [id])
  faviconId              String?   @map("favicon") @postgresql.Uuid
  email                  String    @default("")
  phone                  String    @default("")
  whatsapp               String    @default("")
  wechat                 String    @default("")
  address                String    @default("")
  facebookUrl            String    @default("")
  instagramUrl           String    @default("")
  linkedinUrl            String    @default("")
  youtubeUrl             String    @default("")
  twitterUrl             String    @default("")
  googleAnalyticsId      String    @default("")
  googleSearchConsoleKey String    @default("")
  tiktokPixelId          String    @default("")
  smtpHost               String    @default("")
  smtpPort               String    @default("")
  smtpUser               String    @default("")
  smtpPassword           String    @default("")
  emailFromAddress       String    @default("noreply@busrom.com")
  emailFromName          Json?     @default("{\"en\":\"Busrom Team\",\"zh\":\"Busrom 团队\"}")
  formNotificationEmails String    @default("")
  enableAutoReply        Boolean   @default(false)
  autoReplyTemplate      Json?     @default("{\"en\":\"Dear {name},\\n\\nThank you for contacting Busrom. We have received your message and will get back to you within 24 hours.\\n\\nBest regards,\\nBusrom Team\",\"zh\":\"尊敬的 {name}，\\n\\n感谢您联系 Busrom。我们已收到您的留言，将在 24 小时内回复您。\\n\\n此致\\nBusrom 团队\"}")
  maintenanceMode        Boolean   @default(false)
  enableCaptcha          Boolean   @default(true)
  recaptchaSiteKey       String    @default("")
  recaptchaSecretKey     String    @default("")
  defaultLanguage        String?   @default("en")
  enableIndexNow         Boolean   @default(true)
  indexNowKey            String    @default("")
  updatedAt              DateTime? @updatedAt

  @@index([logoId])
  @@index([faviconId])
}

model NavigationMenu {
  id          String                 @id @default(uuid()) @postgresql.Uuid
  slug        String                 @unique @default("")
  name        Json?                  @default("{}")
  type        NavigationMenuTypeType @default(STANDARD)
  icon        String                 @default("")
  mediaTags   MediaTag[]             @relation("NavigationMenu_mediaTags")
  parent      NavigationMenu?        @relation("NavigationMenu_parent", fields: [parentId], references: [id])
  parentId    String?                @map("parent") @postgresql.Uuid
  children    NavigationMenu[]       @relation("NavigationMenu_parent")
  link        String                 @default("")
  inquiryLink String                 @default("")
  order       Int?                   @default(1)
  isSystem    Boolean                @default(false)
  visible     Boolean                @default(true)

  @@index([parentId])
}

model Page {
  id                            String                   @id @default(uuid()) @postgresql.Uuid
  slug                          String                   @unique @default("")
  path                          String                   @unique @default("")
  pageType                      PagePageTypeType         @default(FREEFORM)
  template                      String                   @default("")
  title                         Json?                    @default("{}")
  contentTranslations           PageContentTranslation[] @relation("PageContentTranslation_page")
  heroMediaTags                 MediaTag[]               @relation("Page_heroMediaTags")
  heroText                      Json?                    @default("{}")
  heroSubtitle                  Json?                    @default("{}")
  isSystem                      Boolean                  @default(false)
  status                        String                   @default("DRAFT")
  publishedAt                   DateTime?
  order                         Int?                     @default(0)
  createdAt                     DateTime?                @default(now())
  updatedAt                     DateTime?                @updatedAt
  author                        User?                    @relation("Page_author", fields: [authorId], references: [id])
  authorId                      String?                  @map("author") @postgresql.Uuid
  from_CustomScript_relatedPage CustomScript[]           @relation("CustomScript_relatedPage")
  from_SeoSetting_relatedPage   SeoSetting[]             @relation("SeoSetting_relatedPage")

  @@index([authorId])
}

model PageContentTranslation {
  id        String    @id @default(uuid()) @postgresql.Uuid
  locale    String    @default("")
  content   Json      @default("[{\"type\":\"paragraph\",\"children\":[{\"text\":\"\"}]}]")
  page      Page?     @relation("PageContentTranslation_page", fields: [pageId], references: [id])
  pageId    String?   @map("page") @postgresql.Uuid
  createdAt DateTime? @default(now())
  updatedAt DateTime? @updatedAt

  @@index([pageId])
}

model HeroBannerItem {
  id            String    @id @default(uuid()) @postgresql.Uuid
  internalLabel String    @default("")
  title         Json?     @default("{}")
  feature1      Json?     @default("{}")
  feature2      Json?     @default("{}")
  feature3      Json?     @default("{}")
  feature4      Json?     @default("{}")
  feature5      Json?     @default("{}")
  image1        Json?
  image2        Json?
  image3        Json?
  image4        Json?
  order         Int       @default(1)
  status        String    @default("DRAFT")
  enabled       Boolean   @default(true)
  publishedAt   DateTime?
  createdAt     DateTime? @default(now())
  updatedAt     DateTime? @updatedAt
}

model ProductSeriesCarousel {
  id            Int                              @id
  internalLabel String                           @unique @default("Product Series Carousel Configuration")
  items         Json?                            @default("{}")
  autoPlay      Boolean                          @default(true)
  autoPlaySpeed Int?                             @default(5000)
  status        ProductSeriesCarouselStatusType? @default(ACTIVE)
  createdAt     DateTime?                        @default(now())
  updatedAt     DateTime?                        @updatedAt
}

model ServiceFeaturesConfig {
  id                  String    @id @default(uuid()) @postgresql.Uuid
  internalLabel       String    @default("Service Features Configuration")
  title               Json?     @default("{}")
  subtitle            Json?     @default("{}")
  feature1Title       Json?     @default("{}")
  feature1ShortTitle  Json?     @default("{}")
  feature1Description Json?     @default("{}")
  feature1Image1      Json?
  feature1Image2      Json?
  feature1Image3      Json?
  feature1Image4      Json?
  feature2Title       Json?     @default("{}")
  feature2ShortTitle  Json?     @default("{}")
  feature2Description Json?     @default("{}")
  feature2Image1      Json?
  feature2Image2      Json?
  feature3Title       Json?     @default("{}")
  feature3ShortTitle  Json?     @default("{}")
  feature3Description Json?     @default("{}")
  feature3Image1      Json?
  feature3Image2      Json?
  feature3Image3      Json?
  feature3Image4      Json?
  feature3Image5      Json?
  feature3Image6      Json?
  feature4Title       Json?     @default("{}")
  feature4ShortTitle  Json?     @default("{}")
  feature4Description Json?     @default("{}")
  feature4Image1      Json?
  feature4Image2      Json?
  feature5Title       Json?     @default("{}")
  feature5ShortTitle  Json?     @default("{}")
  feature5Description Json?     @default("{}")
  feature5Image1      Json?
  feature5Image2      Json?
  status              String    @default("DRAFT")
  publishedAt         DateTime?
  updatedAt           DateTime? @updatedAt
}

model Sphere3d {
  id            String    @id @default(uuid()) @postgresql.Uuid
  internalLabel String    @default("3D Sphere Configuration")
  note          String    @default("This configuration is reserved for future 3D sphere functionality")
  status        String    @default("DRAFT")
  publishedAt   DateTime?
  updatedAt     DateTime? @updatedAt
}

model SimpleCta {
  id            String    @id @default(uuid()) @postgresql.Uuid
  internalLabel String    @default("Simple CTA Configuration")
  title         Json?     @default("{}")
  title2        Json?     @default("{}")
  subtitle      Json?     @default("{}")
  description   Json?     @default("{}")
  buttonText    Json?     @default("{}")
  image1        Json?
  image2        Json?
  image3        Json?
  status        String    @default("DRAFT")
  publishedAt   DateTime?
  updatedAt     DateTime? @updatedAt
}

model SeriesIntro {
  id              String                 @id @default(uuid()) @postgresql.Uuid
  internalLabel   String                 @default("")
  productSeries   ProductSeries?         @relation("SeriesIntro_productSeries", fields: [productSeriesId], references: [id])
  productSeriesId String?                @map("productSeries") @postgresql.Uuid
  title           Json?
  description     Json?
  images          Json?                  @default("{\"tags\":[],\"images\":[]}")
  status          SeriesIntroStatusType? @default(DRAFT)
  publishedAt     DateTime?
  updatedAt       DateTime?              @updatedAt

  @@index([productSeriesId])
}

model FeaturedProducts {
  id                Int                         @id
  internalLabel     String                      @unique @default("Featured Products Configuration")
  title             Json?
  description       Json?
  viewAllButtonText Json?
  categories        Json?                       @default("[]")
  status            FeaturedProductsStatusType? @default(DRAFT)
  publishedAt       DateTime?
  updatedAt         DateTime?                   @updatedAt
}

model BrandAdvantages {
  id            String    @id @default(uuid()) @postgresql.Uuid
  internalLabel String    @default("Brand Advantages Configuration")
  advantage1    Json?     @default("{}")
  icon1         String    @default("Sparkles")
  advantage2    Json?     @default("{}")
  icon2         String    @default("Target")
  advantage3    Json?     @default("{}")
  icon3         String    @default("Component")
  advantage4    Json?     @default("{}")
  icon4         String    @default("ShieldCheck")
  advantage5    Json?     @default("{}")
  icon5         String    @default("Gauge")
  advantage6    Json?     @default("{}")
  icon6         String    @default("EyeOff")
  advantage7    Json?     @default("{}")
  icon7         String    @default("Waves")
  advantage8    Json?     @default("{}")
  icon8         String    @default("Cpu")
  advantage9    Json?     @default("{}")
  icon9         String    @default("Factory")
  image         Json?
  status        String    @default("DRAFT")
  publishedAt   DateTime?
  updatedAt     DateTime? @updatedAt
}

model OemOdm {
  id              String    @id @default(uuid()) @postgresql.Uuid
  internalLabel   String    @default("OEM/ODM Configuration")
  oemTitle        Json?     @default("{}")
  oemBgImage      Json?
  oemImage        Json?
  oemDescription1 Json?     @default("{}")
  oemDescription2 Json?     @default("{}")
  odmTitle        Json?     @default("{}")
  odmBgImage      Json?
  odmImage        Json?
  odmDescription1 Json?     @default("{}")
  odmDescription2 Json?     @default("{}")
  status          String    @default("DRAFT")
  publishedAt     DateTime?
  updatedAt       DateTime? @updatedAt
}

model QuoteSteps {
  id            String    @id @default(uuid()) @postgresql.Uuid
  internalLabel String    @default("Quote Steps Configuration")
  title         Json?     @default("{}")
  title2        Json?     @default("{}")
  subtitle      Json?     @default("{}")
  description   Json?     @default("{}")
  step1Text     Json?     @default("{}")
  step1Image    Json?
  step2Text     Json?     @default("{}")
  step2Image    Json?
  step3Text     Json?     @default("{}")
  step3Image    Json?
  step4Text     Json?     @default("{}")
  step4Image    Json?
  step5Text     Json?     @default("{}")
  step5Image    Json?
  status        String    @default("DRAFT")
  publishedAt   DateTime?
  updatedAt     DateTime? @updatedAt
}

model MainForm {
  id                  String      @id @default(uuid()) @postgresql.Uuid
  internalLabel       String      @default("Main Form Configuration")
  formConfig          FormConfig? @relation("MainForm_formConfig", fields: [formConfigId], references: [id])
  formConfigId        String?     @map("formConfig") @postgresql.Uuid
  placeholderName     Json?       @default("{}")
  placeholderEmail    Json?       @default("{}")
  placeholderWhatsapp Json?       @default("{}")
  placeholderCompany  Json?       @default("{}")
  placeholderMessage  Json?       @default("{}")
  placeholderVerify   Json?       @default("{}")
  buttonText          Json?       @default("{}")
  designTextLeft      Json?       @default("{}")
  designTextRight     Json?       @default("{}")
  image1              Json?
  image2              Json?
  status              String      @default("DRAFT")
  publishedAt         DateTime?
  updatedAt           DateTime?   @updatedAt

  @@index([formConfigId])
}

model WhyChooseBusrom {
  id                 Int                        @id
  internalLabel      String                     @unique @default("Why Choose Busrom Configuration")
  title              Json?
  title2             Json?
  viewMoreButtonText Json?                      @default("{}")
  viewMoreButtonUrl  String                     @default("")
  reason1Title       Json?
  reason1Description Json?
  reason1Image       Json?
  reason2Title       Json?
  reason2Description Json?
  reason2Image       Json?
  reason3Title       Json?
  reason3Description Json?
  reason3Image       Json?
  reason4Title       Json?
  reason4Description Json?
  reason4Image       Json?
  reason5Title       Json?
  reason5Description Json?
  reason5Image       Json?
  status             WhyChooseBusromStatusType? @default(DRAFT)
  publishedAt        DateTime?
  updatedAt          DateTime?                  @updatedAt
}

model CaseStudies {
  id            Int                    @id
  internalLabel String                 @unique @default("Case Studies Configuration")
  title         Json?
  description   Json?
  categories    Json?                  @default("[]")
  status        CaseStudiesStatusType? @default(DRAFT)
  publishedAt   DateTime?
  updatedAt     DateTime?              @updatedAt
}

model BrandAnalysis {
  id                       String    @id @default(uuid()) @postgresql.Uuid
  internalLabel            String    @default("Brand Analysis Configuration")
  analysisTitle            Json?     @default("{}")
  analysisTitle2           Json?     @default("{}")
  analysisText             Json?     @default("{}")
  analysisText2            Json?     @default("{}")
  brandCenterTitle         Json?     @default("{}")
  brandCenterDescription   Json?     @default("{}")
  brandCenterLargeImage    Json?
  brandCenterSmallImage    Json?
  projectCenterTitle       Json?     @default("{}")
  projectCenterDescription Json?     @default("{}")
  projectCenterLargeImage  Json?
  projectCenterSmallImage  Json?
  serviceCenterTitle       Json?     @default("{}")
  serviceCenterDescription Json?     @default("{}")
  serviceCenterLargeImage  Json?
  serviceCenterSmallImage  Json?
  status                   String    @default("DRAFT")
  publishedAt              DateTime?
  updatedAt                DateTime? @updatedAt
}

model BrandValue {
  id                Int                   @id
  internalLabel     String                @unique @default("Brand Value Configuration")
  title             Json?
  subtitle          Json?
  param1Title       Json?
  param1Description Json?
  param1Image       Json?
  param2Title       Json?
  param2Description Json?
  param2Image       Json?
  sloganTitle       Json?
  sloganDescription Json?
  sloganImage       Json?
  valueTitle        Json?
  valueDescription  Json?
  valueImage        Json?
  visionTitle       Json?
  visionDescription Json?
  visionImage       Json?
  status            BrandValueStatusType? @default(DRAFT)
  publishedAt       DateTime?
  updatedAt         DateTime?             @updatedAt
}

model Footer {
  id                     Int         @id
  internalLabel          String      @unique @default("Footer Configuration")
  formConfig             FormConfig? @relation("Footer_formConfig", fields: [formConfigId], references: [id])
  formConfigId           String?     @map("formConfig") @postgresql.Uuid
  formTitle              Json?       @default("{}")
  formPlaceholderName    Json?       @default("{}")
  formPlaceholderEmail   Json?       @default("{}")
  formPlaceholderMessage Json?       @default("{}")
  formButtonText         Json?       @default("{}")
  contactTitle           Json?       @default("{}")
  contactEmailLabel      Json?       @default("{}")
  contactEmail           Json?       @default("{}")
  afterSalesLabel        Json?       @default("{}")
  afterSalesEmail        Json?       @default("{}")
  whatsappLabel          Json?       @default("{}")
  whatsappNumber         Json?       @default("{}")
  officialNoticeTitle    Json?       @default("{}")
  officialNoticeLine1    Json?       @default("{}")
  officialNoticeLine2    Json?       @default("{}")
  officialNoticeLine3    Json?       @default("{}")
  officialNoticeLine4    Json?       @default("{}")
  enabled                Boolean     @default(true)
  status                 String      @default("DRAFT")
  publishedAt            DateTime?
  updatedAt              DateTime?   @updatedAt

  @@index([formConfigId])
}

model HomeContent {
  id           String    @id @default(uuid()) @postgresql.Uuid
  section      String    @unique
  enabled      Boolean   @default(true)
  order        Int?      @default(1)
  status       String    @default("DRAFT")
  publishedAt  DateTime?
  draftContent Json?
  content      Json?     @default("{}")
  updatedAt    DateTime? @updatedAt
}

model Media {
  id                                 String             @id @default(uuid()) @postgresql.Uuid
  file_id                            String?
  file_filesize                      Int?
  file_width                         Int?
  file_height                        Int?
  file_extension                     String?
  filename                           String             @default("")
  status                             String?            @default("ACTIVE")
  altText                            Json?              @default("{}")
  primaryCategory                    MediaCategory?     @relation("Media_primaryCategory", fields: [primaryCategoryId], references: [id])
  primaryCategoryId                  String?            @map("primaryCategory") @postgresql.Uuid
  tags                               MediaTag[]         @relation("Media_tags")
  tagsFilter                         MediaTag[]         @relation("Media_tagsFilter")
  metadata                           Json?              @default("{}")
  cropFocalPoint                     Json?              @default("{\"x\":50,\"y\":50}")
  width                              Int?
  height                             Int?
  fileSize                           Int?
  mimeType                           String             @default("")
  variants                           Json?              @default("{}")
  uploadedBy                         User?              @relation("Media_uploadedBy", fields: [uploadedById], references: [id])
  uploadedById                       String?            @map("uploadedBy") @postgresql.Uuid
  createdAt                          DateTime?          @default(now())
  updatedAt                          DateTime?          @updatedAt
  from_User_avatar                   User[]             @relation("User_avatar")
  from_SiteConfig_logo               SiteConfig[]       @relation("SiteConfig_logo")
  from_SiteConfig_favicon            SiteConfig[]       @relation("SiteConfig_favicon")
  from_DocumentTemplate_previewImage DocumentTemplate[] @relation("DocumentTemplate_previewImage")
  from_SeoSetting_ogImage            SeoSetting[]       @relation("SeoSetting_ogImage")

  @@index([filename])
  @@index([primaryCategoryId])
  @@index([uploadedById])
}

model MediaCategory {
  id                         String    @id @default(uuid()) @postgresql.Uuid
  name                       Json?     @default("{}")
  slug                       String    @unique @default("")
  order                      Int?      @default(0)
  icon                       String    @default("")
  description                Json?     @default("{}")
  createdAt                  DateTime? @default(now())
  updatedAt                  DateTime? @updatedAt
  from_Media_primaryCategory Media[]   @relation("Media_primaryCategory")
}

model MediaTag {
  id                            String           @id @default(uuid()) @postgresql.Uuid
  name                          Json?            @default("{}")
  slug                          String           @unique @default("")
  type                          String?          @default("CUSTOM")
  order                         Int?             @default(0)
  createdAt                     DateTime?        @default(now())
  updatedAt                     DateTime?        @updatedAt
  from_NavigationMenu_mediaTags NavigationMenu[] @relation("NavigationMenu_mediaTags")
  from_Page_heroMediaTags       Page[]           @relation("Page_heroMediaTags")
  from_Media_tags               Media[]          @relation("Media_tags")
  from_Media_tagsFilter         Media[]          @relation("Media_tagsFilter")
}

model Category {
  id                          String          @id @default(uuid()) @postgresql.Uuid
  name                        Json?           @default("{}")
  slug                        String          @unique @default("")
  type                        String
  parent                      Category?       @relation("Category_parent", fields: [parentId], references: [id])
  parentId                    String?         @map("parent") @postgresql.Uuid
  children                    Category[]      @relation("Category_parent")
  description                 Json?           @default("{}")
  order                       Int?            @default(0)
  status                      String?         @default("DRAFT")
  createdAt                   DateTime?       @default(now())
  from_ProductSeries_category ProductSeries[] @relation("ProductSeries_category")
  from_Blog_categories        Blog[]          @relation("Blog_categories")
  from_Application_category   Application[]   @relation("Application_category")
  from_FaqItem_category       FaqItem[]       @relation("FaqItem_category")

  @@index([parentId])
}

model ProductSeries {
  id                                     String                            @id @default(uuid()) @postgresql.Uuid
  slug                                   String                            @unique @default("")
  name                                   Json?                             @default("{}")
  description                            Json?                             @default("{}")
  contentTranslations                    ProductSeriesContentTranslation[] @relation("ProductSeriesContentTranslation_productSeries")
  featuredImage                          Json?
  category                               Category?                         @relation("ProductSeries_category", fields: [categoryId], references: [id])
  categoryId                             String?                           @map("category") @postgresql.Uuid
  products                               Product[]                         @relation("Product_series")
  order                                  Int?                              @default(0)
  status                                 String?                           @default("DRAFT")
  createdAt                              DateTime?                         @default(now())
  updatedAt                              DateTime?                         @updatedAt
  from_SeriesIntro_productSeries         SeriesIntro[]                     @relation("SeriesIntro_productSeries")
  from_CustomScript_relatedProductSeries CustomScript[]                    @relation("CustomScript_relatedProductSeries")
  from_SeoSetting_relatedProductSeries   SeoSetting[]                      @relation("SeoSetting_relatedProductSeries")

  @@index([categoryId])
}

model ProductSeriesContentTranslation {
  id              String         @id @default(uuid()) @postgresql.Uuid
  locale          String         @default("")
  content         Json           @default("[{\"type\":\"paragraph\",\"children\":[{\"text\":\"\"}]}]")
  productSeries   ProductSeries? @relation("ProductSeriesContentTranslation_productSeries", fields: [productSeriesId], references: [id])
  productSeriesId String?        @map("productSeries") @postgresql.Uuid
  createdAt       DateTime?      @default(now())
  updatedAt       DateTime?      @updatedAt

  @@index([productSeriesId])
}

model Product {
  id                               String                      @id @default(uuid()) @postgresql.Uuid
  sku                              String                      @default("")
  slug                             String                      @unique @default("")
  name                             Json?                       @default("{}")
  shortDescription                 Json?                       @default("{}")
  description                      Json?                       @default("{}")
  contentTranslations              ProductContentTranslation[] @relation("ProductContentTranslation_product")
  attributes                       Json?                       @default("{}")
  specifications                   Json?                       @default("{}")
  showImage                        Json?
  mainImage                        Json?
  series                           ProductSeries?              @relation("Product_series", fields: [seriesId], references: [id])
  seriesId                         String?                     @map("series") @postgresql.Uuid
  isFeatured                       Boolean                     @default(false)
  order                            Int?                        @default(0)
  status                           String?                     @default("DRAFT")
  createdAt                        DateTime?                   @default(now())
  updatedAt                        DateTime?                   @updatedAt
  from_CustomScript_relatedProduct CustomScript[]              @relation("CustomScript_relatedProduct")
  from_SeoSetting_relatedProduct   SeoSetting[]                @relation("SeoSetting_relatedProduct")

  @@index([seriesId])
}

model ProductContentTranslation {
  id        String    @id @default(uuid()) @postgresql.Uuid
  locale    String    @default("")
  content   Json      @default("[{\"type\":\"paragraph\",\"children\":[{\"text\":\"\"}]}]")
  product   Product?  @relation("ProductContentTranslation_product", fields: [productId], references: [id])
  productId String?   @map("product") @postgresql.Uuid
  createdAt DateTime? @default(now())
  updatedAt DateTime? @updatedAt

  @@index([productId])
}

model Blog {
  id                            String                   @id @default(uuid()) @postgresql.Uuid
  slug                          String                   @unique @default("")
  title                         Json?                    @default("{}")
  excerpt                       Json?                    @default("{}")
  contentTranslations           BlogContentTranslation[] @relation("BlogContentTranslation_blog")
  coverImage                    Json?
  categories                    Category[]               @relation("Blog_categories")
  author                        String                   @default("Busrom Team")
  status                        String?                  @default("DRAFT")
  publishedAt                   DateTime?
  createdAt                     DateTime?                @default(now())
  updatedAt                     DateTime?                @updatedAt
  from_CustomScript_relatedBlog CustomScript[]           @relation("CustomScript_relatedBlog")
  from_SeoSetting_relatedBlog   SeoSetting[]             @relation("SeoSetting_relatedBlog")
}

model BlogContentTranslation {
  id        String    @id @default(uuid()) @postgresql.Uuid
  locale    String    @default("")
  content   Json      @default("[{\"type\":\"paragraph\",\"children\":[{\"text\":\"\"}]}]")
  blog      Blog?     @relation("BlogContentTranslation_blog", fields: [blogId], references: [id])
  blogId    String?   @map("blog") @postgresql.Uuid
  createdAt DateTime? @default(now())
  updatedAt DateTime? @updatedAt

  @@index([blogId])
}

model Application {
  id                                   String                          @id @default(uuid()) @postgresql.Uuid
  slug                                 String                          @unique @default("")
  name                                 Json?                           @default("{}")
  shortDescription                     Json?                           @default("{}")
  description                          Json?                           @default("{}")
  contentTranslations                  ApplicationContentTranslation[] @relation("ApplicationContentTranslation_application")
  mainImage                            Json?
  images                               Json?
  category                             Category?                       @relation("Application_category", fields: [categoryId], references: [id])
  categoryId                           String?                         @map("category") @postgresql.Uuid
  status                               String?                         @default("DRAFT")
  createdAt                            DateTime?                       @default(now())
  updatedAt                            DateTime?                       @updatedAt
  from_CustomScript_relatedApplication CustomScript[]                  @relation("CustomScript_relatedApplication")
  from_SeoSetting_relatedApplication   SeoSetting[]                    @relation("SeoSetting_relatedApplication")

  @@index([categoryId])
}

model ApplicationContentTranslation {
  id            String       @id @default(uuid()) @postgresql.Uuid
  locale        String       @default("")
  content       Json         @default("[{\"type\":\"paragraph\",\"children\":[{\"text\":\"\"}]}]")
  application   Application? @relation("ApplicationContentTranslation_application", fields: [applicationId], references: [id])
  applicationId String?      @map("application") @postgresql.Uuid
  createdAt     DateTime?    @default(now())
  updatedAt     DateTime?    @updatedAt

  @@index([applicationId])
}

model FaqItem {
  id         String    @id @default(uuid()) @postgresql.Uuid
  internalId String    @default("")
  question   Json?     @default("{}")
  answer     Json?     @default("{}")
  category   Category? @relation("FaqItem_category", fields: [categoryId], references: [id])
  categoryId String?   @map("category") @postgresql.Uuid
  order      Int?      @default(0)
  status     String?   @default("DRAFT")
  createdAt  DateTime? @default(now())
  updatedAt  DateTime? @updatedAt

  @@index([categoryId])
}

model DocumentTemplate {
  id             String    @id @default(uuid()) @postgresql.Uuid
  key            String    @unique @default("")
  name           String    @default("")
  description    String    @default("")
  category       String?   @default("other")
  content        Json      @default("[{\"type\":\"paragraph\",\"children\":[{\"text\":\"\"}]}]")
  previewImage   Media?    @relation("DocumentTemplate_previewImage", fields: [previewImageId], references: [id])
  previewImageId String?   @map("previewImage") @postgresql.Uuid
  tags           String    @default("")
  usageCount     Json?     @default("{\"count\":0}")
  status         String?   @default("active")
  createdAt      DateTime? @default(now())
  updatedAt      DateTime? @updatedAt

  @@index([previewImageId])
}

model ReusableBlock {
  id                  String                            @id @default(uuid()) @postgresql.Uuid
  key                 String                            @unique @default("")
  name                String                            @default("")
  category            String?                           @default("other")
  contentTranslations ReusableBlockContentTranslation[] @relation("ReusableBlockContentTranslation_reusableBlock")
  status              String?                           @default("DRAFT")
  createdAt           DateTime?                         @default(now())
  updatedAt           DateTime?                         @updatedAt
}

model ReusableBlockContentTranslation {
  id              String         @id @default(uuid()) @postgresql.Uuid
  reusableBlock   ReusableBlock? @relation("ReusableBlockContentTranslation_reusableBlock", fields: [reusableBlockId], references: [id])
  reusableBlockId String?        @map("reusableBlock") @postgresql.Uuid
  locale          String         @default("en")
  content         Json           @default("[{\"type\":\"paragraph\",\"children\":[{\"text\":\"\"}]}]")
  createdAt       DateTime?      @default(now())
  updatedAt       DateTime?      @updatedAt

  @@index([reusableBlockId])
}

model FormConfig {
  id                             String                 @id @default(uuid()) @postgresql.Uuid
  name                           String                 @unique @default("")
  displayName                    Json?                  @default("{}")
  description                    Json?                  @default("{}")
  location                       FormConfigLocationType @default(CUSTOM)
  fields                         Json?                  @default("{}")
  submitButtonText               Json?                  @default("{}")
  successMessage                 Json?                  @default("{}")
  errorMessage                   Json?                  @default("{}")
  notificationEmail              String                 @default("")
  enableEmailNotification        Boolean                @default(true)
  enableAutoReply                Boolean                @default(false)
  autoReplySubject               Json?                  @default("{}")
  autoReplyContent               Json?                  @default("{}")
  enableCaptcha                  Boolean                @default(false)
  maxSubmissionsPerDay           Int?                   @default(10)
  status                         String                 @default("DRAFT")
  publishedAt                    DateTime?
  createdAt                      DateTime?              @default(now())
  updatedAt                      DateTime?              @updatedAt
  from_MainForm_formConfig       MainForm[]             @relation("MainForm_formConfig")
  from_Footer_formConfig         Footer[]               @relation("Footer_formConfig")
  from_FormSubmission_formConfig FormSubmission[]       @relation("FormSubmission_formConfig")
}

model FormSubmission {
  id            String                           @id @default(uuid()) @postgresql.Uuid
  formConfig    FormConfig?                      @relation("FormSubmission_formConfig", fields: [formConfigId], references: [id])
  formConfigId  String?                          @map("formConfig") @postgresql.Uuid
  formName      String                           @default("")
  data          Json?
  status        FormSubmissionStatusType         @default(UNREAD)
  autoSubmitted FormSubmissionAutoSubmittedType? @default(MANUAL)
  locale        String                           @default("")
  sourcePage    String                           @default("")
  ipAddress     String                           @default("")
  userAgent     String                           @default("")
  adminNotes    String                           @default("")
  emailSent     Boolean                          @default(false)
  submittedAt   DateTime?                        @default(now())
  readAt        DateTime?
  updatedAt     DateTime?                        @updatedAt

  @@index([formConfigId])
}

model CustomScript {
  id                     String                         @id @default(uuid()) @postgresql.Uuid
  name                   String                         @default("")
  description            String                         @default("")
  scriptPosition         CustomScriptScriptPositionType @default(header)
  content                String                         @default("")
  scope                  CustomScriptScopeType          @default(global)
  pageType               CustomScriptPageTypeType?
  customPageRule         String                         @default("")
  exactPath              String                         @default("")
  pathPattern            String                         @default("")
  relatedPage            Page?                          @relation("CustomScript_relatedPage", fields: [relatedPageId], references: [id])
  relatedPageId          String?                        @map("relatedPage") @postgresql.Uuid
  relatedProduct         Product?                       @relation("CustomScript_relatedProduct", fields: [relatedProductId], references: [id])
  relatedProductId       String?                        @map("relatedProduct") @postgresql.Uuid
  relatedBlog            Blog?                          @relation("CustomScript_relatedBlog", fields: [relatedBlogId], references: [id])
  relatedBlogId          String?                        @map("relatedBlog") @postgresql.Uuid
  relatedApplication     Application?                   @relation("CustomScript_relatedApplication", fields: [relatedApplicationId], references: [id])
  relatedApplicationId   String?                        @map("relatedApplication") @postgresql.Uuid
  relatedProductSeries   ProductSeries?                 @relation("CustomScript_relatedProductSeries", fields: [relatedProductSeriesId], references: [id])
  relatedProductSeriesId String?                        @map("relatedProductSeries") @postgresql.Uuid
  enabled                Boolean                        @default(false)
  priority               Int?                           @default(5)
  async                  Boolean                        @default(false)
  defer                  Boolean                        @default(false)
  version                String                         @default("1.0")
  createdAt              DateTime?                      @default(now())
  updatedAt              DateTime?                      @updatedAt
  lastTestedAt           DateTime?

  @@index([relatedPageId])
  @@index([relatedProductId])
  @@index([relatedBlogId])
  @@index([relatedApplicationId])
  @@index([relatedProductSeriesId])
}

model SeoSetting {
  id                     String                  @id @default(uuid()) @postgresql.Uuid
  identifier             String                  @unique @default("")
  scope                  SeoSettingScopeType     @default(global)
  pageType               SeoSettingPageTypeType?
  customPageRule         String                  @default("")
  exactPath              String                  @default("")
  pathPattern            String                  @default("")
  relatedPage            Page?                   @relation("SeoSetting_relatedPage", fields: [relatedPageId], references: [id])
  relatedPageId          String?                 @map("relatedPage") @postgresql.Uuid
  relatedProduct         Product?                @relation("SeoSetting_relatedProduct", fields: [relatedProductId], references: [id])
  relatedProductId       String?                 @map("relatedProduct") @postgresql.Uuid
  relatedBlog            Blog?                   @relation("SeoSetting_relatedBlog", fields: [relatedBlogId], references: [id])
  relatedBlogId          String?                 @map("relatedBlog") @postgresql.Uuid
  relatedApplication     Application?            @relation("SeoSetting_relatedApplication", fields: [relatedApplicationId], references: [id])
  relatedApplicationId   String?                 @map("relatedApplication") @postgresql.Uuid
  relatedProductSeries   ProductSeries?          @relation("SeoSetting_relatedProductSeries", fields: [relatedProductSeriesId], references: [id])
  relatedProductSeriesId String?                 @map("relatedProductSeries") @postgresql.Uuid
  title                  Json?                   @default("{}")
  description            Json?                   @default("{}")
  keywords               Json?                   @default("{}")
  ogTitle                String                  @default("")
  ogDescription          String                  @default("")
  ogImage                Media?                  @relation("SeoSetting_ogImage", fields: [ogImageId], references: [id])
  ogImageId              String?                 @map("ogImage") @postgresql.Uuid
  schemaType             String?
  schemaData             String                  @default("")
  hreflangInfo           String                  @default("✅ Hreflang links are auto-generated by frontend | Hreflang链接由前端自动生成")
  robotsIndex            Boolean                 @default(true)
  robotsFollow           Boolean                 @default(true)
  showInSitemap          Boolean                 @default(true)
  sitemapPriority        String?                 @default("0.6")
  sitemapChangeFreq      String?                 @default("monthly")
  canonicalUrl           String                  @default("")
  updatedAt              DateTime?               @updatedAt

  @@index([relatedPageId])
  @@index([relatedProductId])
  @@index([relatedBlogId])
  @@index([relatedApplicationId])
  @@index([relatedProductSeriesId])
  @@index([ogImageId])
}

enum PermissionResourceType {
  User
  Role
  Permission
  ActivityLog
  NavigationMenu
  HomeContent
  HeroBannerItem
  ProductSeriesCarousel
  ServiceFeaturesConfig
  Sphere3d
  SimpleCta
  SeriesIntro
  FeaturedProducts
  BrandAdvantages
  OemOdm
  QuoteSteps
  MainForm
  WhyChooseBusrom
  CaseStudies
  BrandAnalysis
  BrandValue
  Footer
  Media
  MediaCategory
  MediaTag
  ProductSeries
  Product
  Category
  Blog
  Application
  Page
  FaqItem
  DocumentTemplate
  ReusableBlock
  ReusableBlockVersion
  ReusableBlockContentTranslation
  ProductSeriesContentTranslation
  ProductContentTranslation
  ApplicationContentTranslation
  PageContentTranslation
  BlogContentTranslation
  FormConfig
  FormSubmission
  CustomScript
  SeoSetting
  SiteConfig
}

enum PermissionActionType {
  create
  read
  update
  delete
  publish
  export
  import
  manage_roles
  manage_permissions
  inject_code
  view_logs
}

enum NavigationMenuTypeType {
  STANDARD
  PRODUCT_CARDS
  SUBMENU
}

enum PagePageTypeType {
  TEMPLATE
  FREEFORM
}

enum ProductSeriesCarouselStatusType {
  ACTIVE
  INACTIVE
}

enum SeriesIntroStatusType {
  DRAFT
  PUBLISHED
}

enum FeaturedProductsStatusType {
  DRAFT
  PUBLISHED
}

enum WhyChooseBusromStatusType {
  DRAFT
  PUBLISHED
}

enum CaseStudiesStatusType {
  PUBLISHED
  DRAFT
  ARCHIVED
}

enum BrandValueStatusType {
  PUBLISHED
  DRAFT
  ARCHIVED
}

enum FormConfigLocationType {
  HOME_MAIN
  FOOTER
  CONTACT_US
  QUICK_INQUIRY
  CUSTOM
}

enum FormSubmissionStatusType {
  UNREAD
  READ
  ARCHIVED
}

enum FormSubmissionAutoSubmittedType {
  MANUAL
  AUTO
}

enum CustomScriptScriptPositionType {
  header
  footer
  body_start
}

enum CustomScriptScopeType {
  global
  page_type
  exact_path
  path_pattern
  related_content
}

enum CustomScriptPageTypeType {
  home
  product_series_list
  product_series_detail
  shop_list
  shop_detail
  blog_list
  blog_detail
  application_list
  application_detail
  service_overview
  service_one_stop
  service_faq
  about_story
  about_support
  contact
  privacy_policy
  fraud_notice
  custom
}

enum SeoSettingScopeType {
  global
  page_type
  exact_path
  path_pattern
  related_content
}

enum SeoSettingPageTypeType {
  home
  product_series_list
  product_series_detail
  shop_list
  shop_detail
  blog_list
  blog_detail
  application_list
  application_detail
  service_overview
  service_one_stop
  service_faq
  about_story
  about_support
  contact
  privacy_policy
  fraud_notice
  custom
}
